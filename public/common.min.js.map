{"version":3,"sources":["error.js","lazyImage.js","map.js","test.js"],"names":["data","images","document","querySelectorAll","configuration","root","rootMargin","threshold","imagesCount","length","observer","window","loadBackgroundsImmediately","initIntersectionObserver","onIntersection","IntersectionObserver","i","image","observe","l","preloadBackgrounds","value","getAttribute","currentSection","style","background","removeAttribute","entries","len","entry","intersectionRatio","unobserve","target"],"mappings":"AAAA;;;ACAA,CAAC,YAAM;;AAEP,QAAMA,OAAO,UAAb;AAAA,QACAC,SAASC,SAASC,gBAAT,OAA8BH,IAA9B,OADT;;AAGA,QAAMI,gBAAgB;AAClBC,cAAM,IADY;AAElBC,oBAAY,KAFM;AAGlBC,mBAAW;AAHO,KAAtB;;AAMA,QAAMC,cAAcP,OAAOQ,MAA3B;;AAEA,QAAIC,WAAW,EAAE,0BAA0BC,MAA5B,IACfC,2BAA2BX,MAA3B,CADe,GACsBY,yBAAyBC,cAAzB,EAAyCV,aAAzC,CADrC;;AAGA,aAASS,wBAAT,CAAkCC,cAAlC,EAAkDV,aAAlD,EAAiE;AAC7DM,mBAAW,IAAIK,oBAAJ,CAAyBD,cAAzB,EAAyCV,aAAzC,CAAX;;AAEA,aAAK,IAAIY,IAAE,CAAX,EAAcA,IAAER,WAAhB,EAA6BQ,GAA7B,EAAkC;AAC9B,gBAAIC,QAAQhB,OAAOe,CAAP,CAAZ;AACAN,qBAASQ,OAAT,CAAiBD,KAAjB;AACH;;AAED,eAAOP,QAAP;AACH;;AAED,aAASE,0BAAT,GAAsC;AAClC,aAAK,IAAII,IAAE,CAAX,EAAcA,IAAER,WAAhB,EAA6BQ,GAA7B,EAAkC;AAC9B,gBAAIC,QAAQT,YAAYW,CAAZ,CAAZ;;AAEAC,+BAAmBH,KAAnB;AACH;AACJ;;AAED,aAASG,kBAAT,CAA4BH,KAA5B,EAAmC;AAC/B,YAAII,QAAQJ,MAAMK,YAAN,CAAmBtB,IAAnB,CAAZ;AAAA,YACAuB,iBAAiBN,KADjB;;AAGAM,uBAAeC,KAAf,CAAqBC,UAArB,GAAkCJ,KAAlC;AACAE,uBAAeG,eAAf,CAA+B1B,IAA/B;AACH;;AAED,aAASc,cAAT,CAAwBa,OAAxB,EAAiC;AAC7B,aAAK,IAAIX,IAAE,CAAN,EAASY,MAAID,QAAQlB,MAAR,GAAe,CAAjC,EAAoCO,KAAGY,GAAvC,EAA4CZ,GAA5C,EAAiD;AAC7C,gBAAIa,QAAQF,QAAQX,CAAR,CAAZ;;AAEA,gBAAIa,MAAMC,iBAAN,GAA0B,CAA9B,EAAiC;AAC7BpB,yBAASqB,SAAT,CAAmBF,MAAMG,MAAzB;AACAZ,mCAAmBS,MAAMG,MAAzB;AACH;AACJ;AACJ;AAEA,CAtDD;ACAA;ACAA","file":"common.min.js","sourcesContent":["","(() => {\r\n\r\nconst data = 'data-src',\r\nimages = document.querySelectorAll(`[${data}]`);\r\n\r\nconst configuration = {\r\n    root: null,\r\n    rootMargin: '0px',\r\n    threshold: 0.5\r\n}\r\n\r\nconst imagesCount = images.length;\r\n\r\nlet observer = !('IntersectionObserver' in window) ?\r\nloadBackgroundsImmediately(images) : initIntersectionObserver(onIntersection, configuration);\r\n\r\nfunction initIntersectionObserver(onIntersection, configuration) {\r\n    observer = new IntersectionObserver(onIntersection, configuration);\r\n    \r\n    for (let i=0; i<imagesCount; i++) {\r\n        let image = images[i];\r\n        observer.observe(image);\r\n    }\r\n\r\n    return observer\r\n}\r\n\r\nfunction loadBackgroundsImmediately() {\r\n    for (let i=0; i<imagesCount; i++) {\r\n        let image = imagesCount[l];\r\n\r\n        preloadBackgrounds(image);\r\n    }\r\n}\r\n\r\nfunction preloadBackgrounds(image) {\r\n    let value = image.getAttribute(data),\r\n    currentSection = image;\r\n\r\n    currentSection.style.background = value;\r\n    currentSection.removeAttribute(data);\r\n}\r\n\r\nfunction onIntersection(entries) {\r\n    for (let i=0, len=entries.length-1; i<=len; i++) {\r\n        let entry = entries[i];\r\n\r\n        if (entry.intersectionRatio > 0) {\r\n            observer.unobserve(entry.target);\r\n            preloadBackgrounds(entry.target);\r\n        }\r\n    }\r\n}\r\n\r\n})();","",""]}