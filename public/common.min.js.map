{"version":3,"sources":["error.js","lazyImage.js","map.js","test.js"],"names":["data","images","document","querySelectorAll","configuration","root","rootMargin","threshold","imagesCount","length","observer","window","loadBackgroundsImmediately","initIntersectionObserver","onIntersection","IntersectionObserver","i","image","observe","l","preloadBackgrounds","value","getAttribute","currentSection","style","background","removeAttribute","entries","len","entry","intersectionRatio","unobserve","target","ymaps","ready","initYmaps","console","log","container","myMap","Map","center","controls","zoom","coords","myCollection","GeoObjectCollection","add","Placemark","iconLayout","iconImageHref","iconImageSize","geoObjects"],"mappings":"AAAA;;;ACAA,CAAC,YAAM;;AAEP,QAAMA,OAAO,UAAb;AAAA,QACAC,SAASC,SAASC,gBAAT,OAA8BH,IAA9B,OADT;;AAGA,QAAMI,gBAAgB;AAClBC,cAAM,IADY;AAElBC,oBAAY,KAFM;AAGlBC,mBAAW;AAHO,KAAtB;;AAMA,QAAMC,cAAcP,OAAOQ,MAA3B;;AAEA,QAAIC,WAAW,EAAE,0BAA0BC,MAA5B,IACfC,2BAA2BX,MAA3B,CADe,GACsBY,yBAAyBC,cAAzB,EAAyCV,aAAzC,CADrC;;AAGA,aAASS,wBAAT,CAAkCC,cAAlC,EAAkDV,aAAlD,EAAiE;AAC7DM,mBAAW,IAAIK,oBAAJ,CAAyBD,cAAzB,EAAyCV,aAAzC,CAAX;;AAEA,aAAK,IAAIY,IAAE,CAAX,EAAcA,IAAER,WAAhB,EAA6BQ,GAA7B,EAAkC;AAC9B,gBAAIC,QAAQhB,OAAOe,CAAP,CAAZ;AACAN,qBAASQ,OAAT,CAAiBD,KAAjB;AACH;;AAED,eAAOP,QAAP;AACH;;AAED,aAASE,0BAAT,GAAsC;AAClC,aAAK,IAAII,IAAE,CAAX,EAAcA,IAAER,WAAhB,EAA6BQ,GAA7B,EAAkC;AAC9B,gBAAIC,QAAQT,YAAYW,CAAZ,CAAZ;;AAEAC,+BAAmBH,KAAnB;AACH;AACJ;;AAED,aAASG,kBAAT,CAA4BH,KAA5B,EAAmC;AAC/B,YAAII,QAAQJ,MAAMK,YAAN,CAAmBtB,IAAnB,CAAZ;AAAA,YACAuB,iBAAiBN,KADjB;;AAGAM,uBAAeC,KAAf,CAAqBC,UAArB,GAAkCJ,KAAlC;AACAE,uBAAeG,eAAf,CAA+B1B,IAA/B;AACH;;AAED,aAASc,cAAT,CAAwBa,OAAxB,EAAiC;AAC7B,aAAK,IAAIX,IAAE,CAAN,EAASY,MAAID,QAAQlB,MAAR,GAAe,CAAjC,EAAoCO,KAAGY,GAAvC,EAA4CZ,GAA5C,EAAiD;AAC7C,gBAAIa,QAAQF,QAAQX,CAAR,CAAZ;;AAEA,gBAAIa,MAAMC,iBAAN,GAA0B,CAA9B,EAAiC;AAC7BpB,yBAASqB,SAAT,CAAmBF,MAAMG,MAAzB;AACAZ,mCAAmBS,MAAMG,MAAzB;AACH;AACJ;AACJ;AAEA,CAtDD;;;ACAAC,MAAMC,KAAN,CAAY,YAAM;AACdC,cAAUF,KAAV,EAAiB,KAAjB;AACAG,YAAQC,GAAR,CAAY,WAAZ;AACH,CAHD;;AAKA,SAASF,SAAT,CAAmBF,KAAnB,EAA0BK,SAA1B,EAAqC;AACjC,QAAMC,QAAQ,IAAIN,MAAMO,GAAV,CAAcF,SAAd,EAAyB;AACnCG,gBAAQ,CAAC,KAAD,EAAQ,KAAR,CAD2B;AAEnCC,kBAAU,EAFyB;AAGnCC,cAAM;AAH6B,KAAzB,CAAd;;AAMA,QAAMC,SACN,CACI,CAAE,KAAF,EAAS,KAAT,CADJ,EAEI,CAAE,KAAF,EAAS,KAAT,CAFJ,EAGI,CAAE,KAAF,EAAS,KAAT,CAHJ,EAII,CAAE,KAAF,EAAS,KAAT,CAJJ,CADA;;AAQA,QAAMC,eAAe,IAAIZ,MAAMa,mBAAV,EAArB;;AAEA,SAAK,IAAI9B,IAAI,CAAb,EAAgBA,IAAI4B,OAAOnC,MAA3B,EAAmCO,GAAnC,EAAwC;AACpC6B,qBAAaE,GAAb,CAAiB,IAAId,MAAMe,SAAV,CAAoBJ,OAAO5B,CAAP,CAApB,EAA+B,EAA/B,EAAmC;AAChDiC,wBAAY,eADoC;AAEhDC,2BAAe,uCAFiC;AAGhDC,2BAAe,CAAE,EAAF,EAAM,MAAN;AAHiC,SAAnC,CAAjB;AAKH;;AAEDZ,UAAMa,UAAN,CAAiBL,GAAjB,CAAqBF,YAArB;AACH;AC/BD","file":"common.min.js","sourcesContent":["","(() => {\r\n\r\nconst data = 'data-src',\r\nimages = document.querySelectorAll(`[${data}]`);\r\n\r\nconst configuration = {\r\n    root: null,\r\n    rootMargin: '0px',\r\n    threshold: 0.5\r\n}\r\n\r\nconst imagesCount = images.length;\r\n\r\nlet observer = !('IntersectionObserver' in window) ?\r\nloadBackgroundsImmediately(images) : initIntersectionObserver(onIntersection, configuration);\r\n\r\nfunction initIntersectionObserver(onIntersection, configuration) {\r\n    observer = new IntersectionObserver(onIntersection, configuration);\r\n    \r\n    for (let i=0; i<imagesCount; i++) {\r\n        let image = images[i];\r\n        observer.observe(image);\r\n    }\r\n\r\n    return observer\r\n}\r\n\r\nfunction loadBackgroundsImmediately() {\r\n    for (let i=0; i<imagesCount; i++) {\r\n        let image = imagesCount[l];\r\n\r\n        preloadBackgrounds(image);\r\n    }\r\n}\r\n\r\nfunction preloadBackgrounds(image) {\r\n    let value = image.getAttribute(data),\r\n    currentSection = image;\r\n\r\n    currentSection.style.background = value;\r\n    currentSection.removeAttribute(data);\r\n}\r\n\r\nfunction onIntersection(entries) {\r\n    for (let i=0, len=entries.length-1; i<=len; i++) {\r\n        let entry = entries[i];\r\n\r\n        if (entry.intersectionRatio > 0) {\r\n            observer.unobserve(entry.target);\r\n            preloadBackgrounds(entry.target);\r\n        }\r\n    }\r\n}\r\n\r\n})();","ymaps.ready(() => {\r\n    initYmaps(ymaps, 'map');\r\n    console.log('init maps')\r\n});\r\n\r\nfunction initYmaps(ymaps, container) {\r\n    const myMap = new ymaps.Map(container, {\r\n        center: [59.94, 30.30],\r\n        controls: [],\r\n        zoom: 11\r\n    });\r\n\r\n    const coords = \r\n    [ \r\n        [ 59.97, 30.31 ],\r\n        [ 59.95, 30.38 ],\r\n        [ 59.91, 30.48 ],\r\n        [ 59.88, 30.31 ] \r\n    ]\r\n\r\n    const myCollection = new ymaps.GeoObjectCollection();\r\n\r\n    for (let i = 0; i < coords.length; i++) {\r\n        myCollection.add(new ymaps.Placemark(coords[i], {}, { \r\n            iconLayout: \"default#image\",\r\n            iconImageHref: \"images/content/contact/map-marker.svg\",\r\n            iconImageSize: [ 46, 57.727 ]\r\n        }));\r\n    }\r\n    \r\n    myMap.geoObjects.add(myCollection);\r\n}",""]}